<?xml version="1.0" encoding="utf-8"?>
<deploy type="" centralizedCfg="false">

    <basic describe="基本信息">
        <packType describe="包类型" options="pack:全量包;patch:补丁包">pack</packType>
        <systemType describe="系统类型">jrescloud</systemType>
        <appType describe="服务标识">hundsun-cfmmc-cloud-datativ-server</appType>
        <appName describe="服务别名">hundsun-cfmmc-cloud-datativ-server</appName>
        <appDescribe describe="发布包说明">微服务数据分析模块</appDescribe>
        <version describe="发布包版本">1.0</version>
        <packInEffect describe="影响的主包（只有补丁需要配置，填写主包的版本号）"></packInEffect>
    </basic>

    <!-- 全系统全局参数配置，参数可以包括input(输入框)、select(单选框)、password(密码框)、mselect(多选框)、
    grid(表格)、hidden(隐藏域) editor(编辑框)-->
    <globalConfig describe="系统全局配置">
        <variables describe="集群基本参数">
            <field name="user" label="运行用户" type="input" required="true" tooltip="当前运行该项目的用户">root</field>
            <field name="workspace" label="安装目录" type="input" tooltip="请正确设置安装路径">
                /jrescloud/cfmmc/hundsun-cfmmc-cloud-datativ-server
            </field>
        </variables>
    </globalConfig>

    <!-- 配置系统包含的部署集群、分片、分布式框架等 -->
    <subSystems describe="子系统集合">
        <system id="hundsun-cfmmc-cloud-datativ-server" mode="cluster" dependsOn="" type="jar" name="生产者">
            <scale maxSize="20" minSize="1" describe="集群规模"></scale>
            <scripts describe="集群脚本集">
                <script name="install" path="./hundsun-cfmmc-cloud-datativ-server/scripts/install.sh" describe="部署"
                        flag="0"/>
                <script name="start" path="./hundsun-cfmmc-cloud-datativ-server/start.sh" describe="启动"/>
                <script name="stop" path="./hundsun-cfmmc-cloud-datativ-server/stop.sh" describe="停止"/>
            </scripts>
            <variables describe="子系统参数配置">
                <field name="app_alias" label="服务名称" type="input" required="true">datativ-server</field>
                <field name="app_server_port" label="服务端口" type="input" required="true">7077</field>
                <field name="rpc_protocol_port" label="RPC端口" type="input" required="true">17077</field>
                <field name="rpc_trace_log" label="是否日志全链路" type="input" required="true">true</field>
                <field name="app_registry_address" label="注册中心地址" type="input" required="true">127.0.0.1:2181</field>
                <field name="rpc_registry_username" label="注册中心ZK用户名" type="input" required="true">xiaodimo</field>
                <field name="rpc_registry_password" label="注册中心ZK密码" type="input" required="true">xiaodimo</field>
                <field name="rpc_registry_session" label="注册中心ZK会话保持时间(ms)" type="input" required="true">60000</field>
                <field name="logging_config" label="日志配置文件" type="input" required="true">config/log4j2.xml</field>
                <field name="zkconfig_url" label="ZK配置中心IP及端口" type="input" required="true">10.240.98.23:2181</field>
                <field name="dataTiv_job_zero" label="定时任务时间设置零" type="input" required="true">0 0 2 * * ?</field>
                <field name="dataTiv_job_first" label="定时任务时间设置一" type="input" required="true">0 0 1 * * ?</field>
                <field name="dataTiv_job_second" label="定时任务时间设置二" type="input" required="true">0 0 3 * * ?</field>
                <field name="dataTiv_job_sign" label="定时任务报错是否继续执行" type="input" required="true">1</field>
                <field name="sms_phone" label="接收短信的电话号码" type="input" required="true">15800000000,13400000000</field>
                <field name="config_address" label="信创配置服务地址" type="input" required="true">127.0.0.1:8620</field>
                <field name="druid_config" label="Druid 配置" type="division" fold="true">
                    <field name="druid_reset_enable" label="监控重置" tooltip="是否支持重置监控信息，默认true，界面上有重置按钮" type="switch"
                           options="true:开;false:关" required="false">true
                    </field>
                    <field name="druid_login_username" label="用户名" type="input" required="true">cfmmc</field>
                    <field name="druid_login_password" label="密码" type="input" required="true">cfmmc</field>
                </field>
            </variables>
            <configs>
                <config path="./hundsun-cfmmc-cloud-datativ-server/config/application.properties" encoding="UTF-8"
                        template="./application.properties"></config>
                <config path="./hundsun-cfmmc-cloud-datativ-server/config/test.properties" encoding="UTF-8"
                        template="./test.properties"/>
            </configs>
            <node describe="节点私有配置信息"></node>
        </system>
    </subSystems>
</deploy>